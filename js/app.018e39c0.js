(function(){"use strict";var e={8487:function(e,t,r){var n=r(5130),o=r(6768);const i={id:"app"};function s(e,t,r,n,s,a){const l=(0,o.g2)("BookReviews");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.bF)(l)])}var a=r(4232);const l={class:"container"},c={class:"filter-container"},u={class:"filter-container"},h={class:"dropdown-container"},d=["value"],v={class:"dropdown-container"},g=["value"],p={class:"dropdown-container"},f={class:"results-grid"},w={class:"card-title"},b={key:0,class:"error-message"};function y(e,t,r,i,s,y){return(0,o.uX)(),(0,o.CE)("div",l,[t[15]||(t[15]=(0,o.Lk)("div",{class:"logo-container"},[(0,o.Lk)("img",{src:"columbia-logo.png",alt:"Columbia Logo",class:"columbia-logo"})],-1)),t[16]||(t[16]=(0,o.Lk)("h1",{class:"main-title"},"Columbia Book Ratings",-1)),t[17]||(t[17]=(0,o.Lk)("h2",{class:"subtitle"},"Discover and Explore Books Rated by Our Community",-1)),(0,o.Lk)("div",c,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.searchTitle=e),class:"search-box",placeholder:"Enter book title"},null,512),[[n.Jo,s.searchTitle]]),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>y.searchByTitle&&y.searchByTitle(...e)),class:"search-button"},"Search by Title")]),(0,o.Lk)("div",u,[(0,o.Lk)("div",h,[t[8]||(t[8]=(0,o.Lk)("label",{for:"rating",class:"dropdown-label"},"Filter by Rating:",-1)),(0,o.bo)((0,o.Lk)("select",{id:"rating","onUpdate:modelValue":t[2]||(t[2]=e=>s.selectedRating=e),onChange:t[3]||(t[3]=(...e)=>y.searchByRating&&y.searchByRating(...e)),class:"dropdown"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.ratings,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,a.v_)(e),9,d)))),128))],544),[[n.u1,s.selectedRating]])]),(0,o.Lk)("div",v,[t[10]||(t[10]=(0,o.Lk)("label",{for:"genre",class:"dropdown-label"},"Filter by Genre:",-1)),(0,o.bo)((0,o.Lk)("select",{id:"genre","onUpdate:modelValue":t[4]||(t[4]=e=>s.selectedGenre=e),onChange:t[5]||(t[5]=(...e)=>y.searchByGenre&&y.searchByGenre(...e)),class:"dropdown"},[t[9]||(t[9]=(0,o.Lk)("option",{value:"",disabled:""},"Select Genre",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.genres,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,a.v_)(e),9,g)))),128))],544),[[n.u1,s.selectedGenre]])]),(0,o.Lk)("div",p,[t[12]||(t[12]=(0,o.Lk)("label",{for:"sort",class:"dropdown-label"},"Sort by:",-1)),(0,o.bo)((0,o.Lk)("select",{id:"sort","onUpdate:modelValue":t[6]||(t[6]=e=>s.selectedSort=e),onChange:t[7]||(t[7]=(...e)=>y.sortReviews&&y.sortReviews(...e)),class:"dropdown"},t[11]||(t[11]=[(0,o.Lk)("option",{value:"title"},"Title (A-Z)",-1),(0,o.Lk)("option",{value:"rating-asc"},"Rating (Low to High)",-1),(0,o.Lk)("option",{value:"rating-desc"},"Rating (High to Low)",-1)]),544),[[n.u1,s.selectedSort]])])]),t[18]||(t[18]=(0,o.Lk)("h3",null,"Search Results:",-1)),(0,o.Lk)("div",f,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.reviews,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.title_without_series,class:"card"},[(0,o.Lk)("h4",w,(0,a.v_)(e.title_without_series),1),(0,o.Lk)("p",null,[t[13]||(t[13]=(0,o.Lk)("strong",null,"Rating:",-1)),(0,o.eW)(" "+(0,a.v_)(e.average_rating),1)]),(0,o.Lk)("p",null,[t[14]||(t[14]=(0,o.Lk)("strong",null,"Genre:",-1)),(0,o.eW)(" "+(0,a.v_)(e.genre||"N/A"),1)])])))),128))]),s.error?((0,o.uX)(),(0,o.CE)("p",b,(0,a.v_)(s.error),1)):(0,o.Q3)("",!0)])}var k=r(4373),L={name:"BookReviews",data(){return{searchTitle:"",selectedRating:1,selectedGenre:"",selectedSort:"title",ratings:[1,2,3,4,5],genres:["Fantasy","Mystery","Thriller","Romance","Science Fiction","Non-Fiction"],reviews:[],error:""}},methods:{async searchByTitle(){this.clearResults(),this.error="";try{const e=await k.A.get(`http://127.0.0.1:5000/api/reviews/by-title/${this.searchTitle}`);this.reviews=e.data?[e.data]:[],this.reviews.length||(this.error="No results found for this title."),this.sortReviews()}catch(e){console.error("Error fetching review by title:",e),this.error="An error occurred while fetching the title."}},async searchByRating(){this.clearResults(),this.error="";try{const e=await k.A.get(`http://127.0.0.1:5000/api/reviews/rating/${this.selectedRating}`);this.reviews=e.data||[],this.reviews.length||(this.error="No results found for this rating."),this.sortReviews()}catch(e){console.error("Error fetching reviews by rating:",e),this.error="An error occurred while fetching the rating."}},async searchByGenre(){this.clearResults(),this.error="";try{const e=await k.A.get(`http://127.0.0.1:5000/api/reviews/by-genre/${this.selectedGenre}`);this.reviews=e.data||[],this.reviews.length||(this.error="No results found for this genre."),this.sortReviews()}catch(e){console.error("Error fetching reviews by genre:",e),this.error="An error occurred while fetching the genre."}},sortReviews(){"title"===this.selectedSort?this.reviews.sort(((e,t)=>e.title_without_series.localeCompare(t.title_without_series))):"rating-asc"===this.selectedSort?this.reviews.sort(((e,t)=>e.average_rating-t.average_rating)):"rating-desc"===this.selectedSort&&this.reviews.sort(((e,t)=>t.average_rating-e.average_rating))},clearResults(){this.reviews=[],this.error=""}}},m=r(1241);const _=(0,m.A)(L,[["render",y],["__scopeId","data-v-5b51b791"]]);var R=_,C={name:"App",components:{BookReviews:R}};const E=(0,m.A)(C,[["render",s]]);var S=E;(0,n.Ef)(S).mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,i){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],i=e[u][2];for(var a=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(a=!1,i<s&&(s=i));if(a){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,s=n[0],a=n[1],l=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(l)var u=l(r)}for(t&&t(n);c<s.length;c++)i=s[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=self["webpackChunkmy_vue_app"]=self["webpackChunkmy_vue_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(8487)}));n=r.O(n)})();
//# sourceMappingURL=app.018e39c0.js.map